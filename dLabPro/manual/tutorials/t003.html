<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<!-- UASR: Unified Approach to Speech Synthesis and Recognition
<    - Documentation home page
<   
<    AUTHOR : Matthias Wolff
<    PACKAGE: n/a
<   
<    Copyright 2013-2014 UASR contributors (see COPYRIGHT file)
<    - Chair of System Theory and Speech Technology, TU Dresden
<    - Chair of Communications Engineering, BTU Cottbus
<   
<    This file is part of UASR.
<   
<    UASR is free software: you can redistribute it and/or modify it under the
<    terms of the GNU Lesser General Public License as published by the Free
<    Software Foundation, either version 3 of the License, or (at your option)
<    any later version.
<   
<    UASR is distributed in the hope that it will be useful, but WITHOUT ANY
<    WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
<    FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for 
<    more details.
<   
<    You should have received a copy of the GNU Lesser General Public License
<    along with UASR. If not, see [http://www.gnu.org/licenses/].
  -->
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Tutorial 3 - Writing Scripts</title>
  <link rel=stylesheet type="text/css" href="../default.css">
</head>
<script type="text/javascript">
if (top==self)
{
  var sLocation = "../index.html?tutorials/t003.html";
  if (location.hash.length>0)
    sLocation += ";"+location.hash.substr(1);
  top.location = sLocation;
}
</script>
<script type="text/javascript" src="../default.js"></script>
<body>
  <a name="top"></a>
  <div id="clp_top">
    <table width="100%" cellpadding="0" cellspacing="0" border="0">
      <tr>
        <td nowrap width="25%" class="navbar">
          Tutorial 3 - Writing Scripts
        </td>
        <td nowrap width="75%" class="navbar" style="text-align:right;">
          <a class="navbar" href="javascript:__PrintSection('clp_top','Tutorial 3 - Writing Scripts','..');"
          ><img src="../resources/print.gif" width="16" height="16" border="0" style="vertical-align:middle;" 
          alt="Print"></a>
          <a class="navbar" href="../home.html">Home</a>
          <a class="navbar" href="index.html">Tutorials</a>
        </td>
      </tr>
    </table>
    <div class="mframe">
      <table width="100%" cellSpacing="0" cellPadding="6" border="0">
        <tr>
          <td width="50%">
            <h3 style="margin-top:2pt; margin-bottom:2pt">Contents</h3>
            <ul class="linklist">
              <li class="linklist"><a class="Linklist" href="#scri">Scripts</a></li>
              <li class="linklist"><a class="Linklist" href="#flow">Controlling the Program Flow</a></li>
              <li class="linklist"><a class="Linklist" href="#formulas">Formula Syntax</a></li>
              <li class="linklist"><a class="Linklist" href="#use">Some Useful Methods</a></li>
              <li class="linklist"><a class="Linklist" href="#further">Further Reading</a></li>
            </ul>
          </td>
          <td width="50%">
            <h3 style="margin-top:2pt; margin-bottom:2pt">Related Topics</h3>
            <ul class="linklist">
              <li class="linklist"><a class="Linklist" href="t001.html">Tutorial 1 - dLabPro Basics</a></li>
              <li class="linklist"><a class="Linklist" href="t002.html">Tutorial 2 - Variables and Data Containers</a></li>
            </ul>
          </td>
        </tr>
      </table>
    </div>
    <div class="mframe2">
      <h3>Synopsis</h3>
      <p><span class="TODO">[<b>TODO:</b> ...]</span></p>
    </div>

    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
    <a name="scri"></a>
    <div id="clp_scri">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap width="25%" class="navbar">
            Scripts
          </td>
          <td nowrap width="75%" class="navbar" style="text-align:right;">
            <a class="navbar" href="javascript:__PrintSection('clp_scri','Scripts','..');"
            ><img src="../resources/print.gif" width="16" height="16" border="0" style="vertical-align:middle;" alt="Print"></a> 
            <a class="navbar" href="../home.html">Home</a>
            <a class="navbar" href="index.html">Tutorials</a>
            <a class="navbar" href="#top">Top</a>
          </td>
        </tr>
      </table>
      <div class="mframe2">
        <p>
		  	Let's start with a simple script. Copy the following text into a text
        editor and save the file as <code>age.itp</code>. Or save the following link:
        <a href="age.itp">age.itp</a>.
      </p>
			<pre class="code">
"\nFirst script in dLabPro" <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>;                         <span class="c-cmt"># Say hello                     01</span>
"\nScriptname: $__FILE__\n" <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>;                         <span class="c-cmt"># Output name of script         02</span>

<span class="c-cmt">## Parses a date string into an array of unsigned shorts.                                  04</span>
<span class="c-cmt">##                                                                                         05</span>
<span class="c-cmt">## @param sDate string                                                                     06</span>
<span class="c-cmt">##          The date string in the format YYYY-MM-DD                                       07</span>
<span class="c-cmt">## @return A data instance containing one record and three                                 08</span>
<span class="c-cmt">##         short components (0: year, 1: month, 2: day)                                    09</span>
<a href="../automatic/function.html"><code class="link">function</code></a> -parse_date(sDate)                                <span class="c-cmt">#                               10</span>
<a href="../automatic/function.html#mth_{"><code class="link">{</code></a>                                                          <span class="c-cmt">#                               11</span>
  <a href="../automatic/data.html"><code class="link">data</code></a> idDate;                                             <span class="c-cmt"># Create parse data instance    12</span>
  16 1 1 idDate <a href="../automatic/data.html#mth_-array"><code class="link">-array</code></a>;                                    <span class="c-cmt"># Allocate parse data instance  13</span>
  sDate 0 0 idDate <a href="../automatic/data.html#mth_-sstore"><code class="link">-sstore</code></a>;                                <span class="c-cmt"># Store date string             14</span>
  idDate "-" "split" idDate <a href="../automatic/data.html#mth_-strop"><code class="link">-strop</code></a>;                        <span class="c-cmt"># Split at '-'                  15</span>
  idDate <a href="../automatic/function.html#mth_-type"><code class="link">-type</code></a> UINT16 idDate <a href="../automatic/data.html#opt__force"><code class="link">/force</code></a> <a href="../automatic/data.html#mth_-tconvert"><code class="link">-tconvert</code></a>;             <span class="c-cmt"># Convert to unsigned short     16</span>
  idDate <a href="../automatic/function.html#mth_return"><code class="link">return</code></a>;                                           <span class="c-cmt"># Return parsed date            17</span>
}                                                          <span class="c-cmt">#                               18</span>

<span class="c-cmt">## Initialize - create instances                           # ----------------------------  20</span>
<a href="../automatic/data.html"><code class="link">data</code></a> idTdy;                                                <span class="c-cmt"># Data table for present date   21</span>
<a href="../automatic/data.html"><code class="link">data</code></a> idBdy;                                                <span class="c-cmt"># Data table for birthday       22</span>
<a href="../automatic/var.html"><code class="link">var</code></a>  nAge;                                                 <span class="c-cmt"># Variable for birthday         23</span>

<span class="c-cmt">## Check command line arguments                            # ----------------------------  25</span>
$$ 2 != <a href="../automatic/function.html#mth_if"><code class="link">if</code></a>                                                 <span class="c-cmt"># Bad no. of arguments &gt;&gt;       26</span>
  "\nERROR - Wrong number of arguments"             <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>; <span class="c-cmt">#   Output error message        27</span>
  "\nUsage: dlabpro $__SFILE__.itp name birthday\n" <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>; <span class="c-cmt">#   And usage info              28</span>
  "\n  name     - string"                           <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>; <span class="c-cmt">#   ...                         29</span>
  "\n  birthday - date string YYYY-MM-DD\n"         <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>; <span class="c-cmt">#   ...                         30</span>
  <a href="../automatic/function.html#mth_quit"><code class="link">quit</code></a>;                                                    <span class="c-cmt">#   Terminate dLabPro session   31</span>
<a href="../automatic/function.html#mth_end"><code class="link">end</code></a>                                                        <span class="c-cmt"># &lt;&lt;                            32</span>

<span class="c-cmt">## Compute age                                             # ----------------------------  34</span>
stdprof <a href="../automatic/profile.html#mth_-date"><code class="link">-date</code></a> -parse_date idTdy <a href="../automatic/var.html#mth_="><code class="link">=</code></a>;                         <span class="c-cmt"># Get and parse present date    35</span>
"$2" -parse_date idBdy <a href="../automatic/var.html#mth_="><code class="link">=</code></a>;                                  <span class="c-cmt"># Parse birthday                36</span>
0 0 idTdy <a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a> 0 0 idBdy <a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a> - nAge <a href="../automatic/var.html#mth_="><code class="link">=</code></a>;                <span class="c-cmt"># Compute age                   37</span>
0 1 idBdy <a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a> 0 1 idTdy <a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a> &gt; <a href="../automatic/function.html#mth_if"><code class="link">if</code></a>                     <span class="c-cmt"># Bdy in later month &gt;&gt;         38</span>
  nAge <a href="../automatic/var.html#mth_--="><code class="link">--=</code></a>;                                                <span class="c-cmt">#   Decrement age               39</span>
<a href="../automatic/function.html#mth_else"><code class="link">else</code></a>                                                       <span class="c-cmt"># &lt;&lt; (else) &gt;&gt;                  40</span>
  0 1 idBdy <a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a> 0 1 idTdy <a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a> ==                     <span class="c-cmt">#   Bdy later in this month &gt;&gt;  41</span>
  0 2 idBdy <a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a> 0 2 idTdy <a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a> &gt;  &amp;&amp; <a href="../automatic/function.html#mth_if"><code class="link">if</code></a>               <span class="c-cmt">#   |                           42</span>
    nAge <a href="../automatic/var.html#mth_--="><code class="link">--=</code></a>;                                              <span class="c-cmt">#     Decrement age             43</span>
  <a href="../automatic/function.html#mth_end"><code class="link">end</code></a>                                                      <span class="c-cmt">#   &lt;&lt;                          44</span>
<a href="../automatic/function.html#mth_end"><code class="link">end</code></a>                                                        <span class="c-cmt"># &lt;&lt;                            45</span>

<span class="c-cmt">## Report the result                                       # ----------------------------  47</span>
"\nYour name is $1 "                                <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>; <span class="c-cmt"># Print name                    48</span>
"and you are " nAge + " years old.\n\n" +           <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>; <span class="c-cmt"># Print age                     49</span>

quit;

<span class="c-cmt">## EOF</span>
</pre>

      <h4>Running a script</h4>
			<p>You can run the script as follows (assuming <code>dlabpro</code> is found
        in your <code>PATH</code> environment variable):</p>
			<pre class="code">
&gt;dlabpro age.itp Peter 1980-11-26

First script in dLabPro
Scriptname: age.itp

Your name is Peter and you are 28 years old.

dLabPro.idTdy&gt;_</pre>
			<p>
				The general syntax of executing dlabpro scripts from a shell is
			</p>
			<pre class="code">
dlabpro &lt;scriptname&gt; [&lt;arguments&gt;]
</pre>

			<p>
				Our script has got two command line arguments (in the script referred
        to as $1 and $2). After executing our script the dLabPro interpreter
        enters the interactive mode and you can enter further commands (if you
        want dLabPro to terminate after executing a script, use <a
        href="../automatic/function.html#mth_quit"><code
        class="link">quit</code></a> as last command of your script). Try, for
        instance, <a href="../automatic/data.html#mth_-print"><code
        class="link">-print</code></a> to find out what's in the active
        instance <code>idTdy</code>.
      </p>

      <h4>Break points</h4>
      <p>
      	Use the <a href="../automatic/function.html#mth_brk"><code
        class="link">brk</code></a>-method anywhere in your script to have
        dLabPro entering the interactive mode when passing by. The method has
        a numeric argument denoting a break point number (which has no meaning
        to dLabPro but is for your convenience). Try inserting
      </p>
			<pre class="code">
"my break point" <a href="../automatic/function.html#mth_brk"><code class="link">brk</code></a>;
</pre>
      <p>
        after line 14 and re-run the script. The interpreter will now stop in
        the date parsing function.
      </p>
			<pre class="code">				
age1.itp(15): BREAK POINT 'my break point'
dLabPro.-parse_date&gt;_
</pre>
      <p>
        Now you can enter arbitrary commands (e.g. <a
        href="../automatic/data.html#mth_-print"><code
        class="link">-print</code></a> to view the contents of the active data
        instance). You may resume after a break point with
      </p>
			<pre class="code">
dLabPro.-parse_date&gt; <a href="../automatic/function.html#mth_step"><code class="link">step</code></a>;

(age1.itp:15) > "my break point" brk-[;]-
dLabPro.-parse_date&gt;_
</pre>
      <p>
        which executes the next line of the script and then breaks again or you
        may use
      </p>
			<pre class="code">
dLabPro.-parse_date&gt; <a href="../automatic/function.html#mth_cont"><code class="link">cont</code></a>;
</pre>
      <p>
        in order to continue executing until the next break point. Using the 
        <a href="../automatic/function.html#opt__nonstop"><code
        class="link">/nonstop</code></a>-option before <a
        href="../automatic/function.html#mth_cont"><code
        class="link">cont</code></a> all further break points will be ignored
        unless the <a href="../automatic/function.html#mth_break"><code
        class="link">break</code></a> method is preceeded by the <a
        href="../automatic/function.html#opt__stop"><code
        class="link">/stop</code></a>-option.
      </p>

			<h4>The "$" character</h4>
			<p>
				Constructions involving the dollar character cause the interpreter's
        command preprocessor to replace this construction prior to actually
        executing the command.
			</p>
			<p>
				The following table shows the $-constructions supported by dLabPro:
			</p>
			<table BORDER=0 CELLSPACING=0 CELLPADDING=4 >
				<tr>
					<td class="rowgroup">Construction</td>
					<td class="rowgroup">Replaced by ...</td>
				</tr>
				<tr>
					<td><code>$1..$999</code></td>
					<td>the respective command line argument</td>
				</tr>
				<tr>
					<td><code>$$</code></td>
					<td>the number of command line arguments</td>
				</tr>
				<tr>
					<td><code>$__FILE__</code></td>
					<td>the fully qualified file name of currently executed script</td>
				</tr>
				<tr>
					<td><code>$__SFILE__</code></td>
					<td>the short file name of currently executed script (w/o path and extension)</td>
				</tr>
				<tr>
					<td><code>$__LINE__</code></td>
					<td>the current line of the script</td>
				</tr>
				<tr>
					<td><code>$XXX</code></td>
					<td>the environment variable <code>XXX</code>, e.g. <code>$PATH</code></td>
				</tr>
				<tr>
					<td><code>${formula}</code></td>
					<td>the result of the evaluation of a formula, e.g. <code>${i+1}</code>
						(see section <a href="#sugar">syntactic sugar</a> for details)</td>
				</tr>
			</table>
			<p>In order to use the dollar-character itself you need to quote it:
				<code>"the \$-character\n" <a href="../automatic/itp.html#mth_-echo"><code
				class="link">-echo</code></a></code>
			</p>
      </div>
    </div>
    
    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
    <a name="flow"></a>
    <div id="clp_flow">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap width="25%" class="navbar">
            Controlling the Program Flow
          </td>
          <td nowrap width="75%" class="navbar" style="text-align:right;">
            <a class="navbar" href="javascript:__PrintSection('clp_flow','Controlling the Program Flow','..');"
            ><img src="../resources/print.gif" width="16" height="16" border="0" style="vertical-align:middle;" alt="Print"></a> 
            <a class="navbar" href="../home.html">Home</a>
            <a class="navbar" href="index.html">Tutorials</a>
            <a class="navbar" href="#top">Top</a>
          </td>
        </tr>
      </table>
      <div class="mframe2">
        <p>
				dLabPro provides only minimal program flow control to realize
				conditional braches and loops. The repspective methods are members of
				the <a href="../automatic/function.html"><code
				class="link">function</code></a> class:
			</p>
			<table>
				<tr>
					<th>Methods</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>
						<a href="../automatic/function.html#mth_while"><code class="link">while</code></a>, 
						<a href="../automatic/function.html#mth_break"><code class="link">break</code></a>,
						<a href="../automatic/function.html#mth_continue"><code class="link">continue</code></a>,
						<a href="../automatic/function.html#mth_end"><code class="link">end</code></a>
					</td>
					<td>
						Loops; the evaluated condition is the top if the <a
						href="t001.html#stac">stack</a> at the moment of interpreting <a
						href="../automatic/function.html#mth_while"><code class="link">while</code></a>
					</td>
				</tr>
				<tr>
					<td>
						<a href="../automatic/function.html#mth_if"><code class="link">if</code></a>,
						<a href="../automatic/function.html#mth_else"><code class="link">else</code></a>,
						<a href="../automatic/function.html#mth_end"><code class="link">end</code></a>
					</td>
					<td>
						Conditional branches; the evaluated condition is the top if the <a
						href="t001.html#stac">stack</a> at the moment of interpreting <a
						href="../automatic/function.html#mth_if"><code class="link">if</code></a>
					</td>
				</tr>
				<tr>
					<td>
						<a href="../automatic/function.html#mth_label"><code class="link">label</code></a>, 
						<a href="../automatic/function.html#mth_goto"><code class="link">goto</code></a>
					</td>
					<td>
						Definition of and jumping to named lines in scripts
					</td>
				</tr>
				<tr>
					<td>
						<a href="../automatic/function.html#mth_break"><code class="link">break</code></a>, 
						<a href="../automatic/function.html#mth_cont"><code class="link">cont</code></a>,
						<a href="../automatic/function.html#mth_step"><code class="link">step</code></a>
					</td>
					<td>
						Break executing script and switch to the interactive mode and continue script
					</td>
				</tr>
				<tr>
					<td>
						<a href="../automatic/function.html#mth_include"><code class="link">include</code></a>, 
						<a href="../automatic/function.html#mth_leave"><code class="link">leave</code></a>,
						<a href="../automatic/function.html#mth_return"><code class="link">return</code></a>
					</td>
					<td>
						Include another script, leaving from scripts or functions
					</td>
				</tr>
				<tr>
					<td>
						<a href="../automatic/function.html#mth_quit"><code class="link">quit</code></a>
					</td>
					<td>
						Terminate dLabPro session
					</td>
				</tr>
			</table>
			<p>
				Obviously you will use the flow control methods (except for <a
				href="../automatic/function.html#mth_cont"><code
				class="link">cont</code></a>) only in the script interpreting (and not
				in the interactive) mode.
			</p>
			<p>
				Here is an example for a loop in dLabPro:
			</p>
			<pre class="code">
0              <a href="../automatic/var.html"><code class="link">var</code></a> i;                                 <span class="c-cmt"># Create/init a loop counter variable named i</span>
"loop counter" <a href="../automatic/var.html"><code class="link">var</code></a> s;                                 <span class="c-cmt"># Create/init a variable named s</span>

i 10 &lt; <a href="../automatic/function.html#mth_while"><code class="link">while</code></a>                                          <span class="c-cmt"># While loop counter &lt; 10</span>
  "\n The ${s}, multiplied by 10, is ${10*i}!" <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>; <span class="c-cmt"># Some output depending on the loop counter</span>
  i <a href="../automatic/var.html#mth_++="><code class="link">++=</code></a>;                                              <span class="c-cmt"># Increment loop counter</span>
<a href="../automatic/function.html#mth_end"><code class="link">end</code></a>                                                   <span class="c-cmt"># End of loop</span>
"\n" <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>;                                           <span class="c-cmt"># Output a line break</span>
</pre>
			<p>When running the script you will get this:</p>
			<pre class="code">
 The loop counter, multiplied by 10, is 0!
 The loop counter, multiplied by 10, is 10!
 The loop counter, multiplied by 10, is 20!
 The loop counter, multiplied by 10, is 30!
 The loop counter, multiplied by 10, is 40!
 The loop counter, multiplied by 10, is 50!
 The loop counter, multiplied by 10, is 60!
 The loop counter, multiplied by 10, is 70!
 The loop counter, multiplied by 10, is 80!
 The loop counter, multiplied by 10, is 90!
dLabPro&gt;_</pre>
      </div>
    </div>
<br>
    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
    <a name="formulas"></a>
    <div id="clp_formulas">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap width="25%" class="navbar">
            Formula Syntax
          </td>
          <td nowrap width="75%" class="navbar" style="text-align:right;">
            <a class="navbar" href="javascript:__PrintSection('clp_formulas','Formula Syntax','..');"
            ><img src="../resources/print.gif" width="16" height="16" border="0" style="vertical-align:middle;" alt="Print"></a> 
            <a class="navbar" href="../home.html">Home</a>
            <a class="navbar" href="index.html">Tutorials</a>
            <a class="navbar" href="#top">Top</a>
          </td>
        </tr>
      </table>
      <div class="mframe2">
        <p>
				RPN is fine with the computer but, as the <a href="#scri">example
				above</a> shows, sometimes a litte hard to read for humans. So as a
				courtesy to the valued users :)) we included some C-style syntax at
				least for mathematic formulas.
			</p>
			<p>
				Formulas in a script start and end with a colon (<code>:</code>). They
        are treated as one token and, upon execution, automatically translated
        into RPN (if you are interested in the generated RPN code try the
        command <a
				href="../automatic/function.html#mth_this"><code
				class="link">this</code></a> <a
				href="../automatic/function.html#mth_-see"><code
				class="link">-see</code></a> <a
				href="../automatic/function.html#fld_last_fml"><code
				class="link">lst_fml</code></a><code>;</code>).
			</p>
			<p>
				The following examples illustrate the usage of formulas (<code>a</code>,
				<code>b</code> and <code>f</code> are <a
				href="../automatic/var.html">variables</a>):
			</p>
			<table BORDER="0" CELLSPACING="0" CELLPADDING="4" style="margin-top:6pt">
				<tr><th>Formula</th><th>translates to</th></tr>
				<tr><td><code>:f=a+b:             </code></td><td><code>a b + f =                </code></td></tr>
				<tr><td><code>:f=(4*sin(a))^b:    </code></td><td><code>4 a sin * b ^ f =        </code></td></tr>
				<tr><td><code>:f=(a&gt;=4 &amp;&amp; b&lt;3):</code></td><td><code>a 4 &gt;= b 3 &lt; &amp;&amp; f =</code></td></tr>
			</table>
			<p>
				It gets better: formulas work also for <a
				href="../automatic/data.html">data</a> instances and provide easy access
				to their content. The following	examples assume that <code>x</code>,
				<code>y</code> and <code>z</code>	are instances of class <a
				href="../automatic/data.html"><code class="link">data</code></a>:
			</p>
			<table BORDER="0" CELLSPACING="0" CELLPADDING="4" style="margin-top:6pt">
				<tr><th>Formula</th><th>translates to</th></tr>
				<tr><td><code>:z=x+y:                    </code></td><td><code>x y + z </code><a href="../automatic/function.html#mth_-copy"><code class="link">-copy</code></a></td></tr>
				<tr><td><code>:z=1./-x:                   </code></td><td><code>1 x neg / z </code><a href="../automatic/function.html#mth_-copy"><code class="link">-copy</code></a></td></tr>
				<tr><td><code>:f=x[0,1]:                 </code></td><td><code>0 1 x </code><a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a><code> f =</code></td></tr>
				<tr><td><code>:z[5,y[0,1]]=x[0,1]+y[0,1]:</code></td><td><code>0 1 x </code><a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a><code> 0 1 y </code><a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a><code> + 5 0 1 y </code><a href="../automatic/data.html#mth_-fetch"><code class="link">-fetch</code></a><code> z </code><a href="../automatic/data.html#mth_-store"><code class="link">-store</code></a></td></tr>
				<tr><td><code>:z=x[3]:                   </code></td><td><code>3 1 x </code><a href="../automatic/data.html#opt__comp"><code class="link">/comp</code></a><code> </code><a href="../automatic/data.html#mth_-xfetch"><code class="link">-xfetch</code></a><code> z </code><a href="../automatic/function.html#mth_-copy"><code class="link">-copy</code></a></td></tr>
				<tr><td><code>:z[5]=(x[3]+y[6])/2:       </code></td><td><code>3 1 x </code><a href="../automatic/data.html#opt__comp"><code class="link">/comp</code></a><code> </code><a href="../automatic/data.html#mth_-xfetch"><code class="link">-xfetch</code></a><code> 6 1 y </code><a href="../automatic/data.html#opt__comp"><code class="link">/comp</code></a><code> </code><a href="../automatic/data.html#mth_-xfetch"><code class="link">-xfetch</code></a><code> + 2 / 5 0 </code><a href="../automatic/function.html#mth_-swap"><code class="link">-swap</code></a><code> 1 </code><a href="../automatic/function.html#mth_-swap"><code class="link">-swap</code></a><code> z </code><a href="../automatic/data.html#mth_-xstore"><code class="link">-xstore</code></a></td></tr>
			</table>
			<p>
				You see the point? By means of formulas you may efficiently code scalar
				data-data	and data-number operations (see <a
				href="t002.html#data">Tutorial II - Variables and data containers,
				section "Data Objects"</a>) as well as reading and writing single cells
				and entire components.
			</p>
			<p>
			  If a formula contains no assigment (operator <code>=</code>) it pushes
			  its result to the stack. You may terminate a formula by a semicolon
        instead of by a colon to clear the stack after execution of the formula.
        For example, <code>:x[0,0]:</code> fetches a value from <code>x</code>
        while the command <code>:x[0,0];</code> has no effect.
      </p>
			<p>
				Formulas may also be enclosed in a <code>${...}</code> construction. As
				described above, in this case the formula will be evaluated
				<em>prior</em> to executing the command and the result of evaluation
				will be placed instead of <code>${...}</code>. This may
				be useful for	printing screen protocols (inserting a value in the
				argument to <a href="../automatic/function.html#mth_-echo"><code
				class="link">-echo</code></a>), to initialize data instances with
				variables using the <a href="../automatic/data.html#mth_{"><code
				class="link">{</code></a>-method and to realize kind of "variable"
        commands.
			</p>
			<pre class="code">
<a href="../automatic/var.html"><code class="link">var</code></a>  rsPick;                                               <span class="c-cmt"># Random set                      01</span>
<a href="../automatic/var.html"><code class="link">var</code></a>  sCmd;                                                 <span class="c-cmt"># Command string                  02</span>
<a href="../automatic/var.html"><code class="link">var</code></a>  sEditor;                                              <span class="c-cmt"># Text editor executable          03</span>
<a href="../automatic/data.html"><code class="link">data</code></a> idCmds;                                               <span class="c-cmt"># Command list                    04</span>

"WIN32" <a href="../automatic/function.html#mth__platform"><code class="link">?platform</code></a>   <a href="../automatic/function.html#mth_if"><code class="link">if</code></a> "notepad" sEditor <a href="../automatic/var.html#mth_="><code class="link">=</code></a>; <a href="../automatic/function.html#mth_end"><code class="link">end</code></a>            <span class="c-cmt"># Set sEditor on Windows          06</span>
"LINUX" <a href="../automatic/function.html#mth__platform"><code class="link">?platform</code></a>   <a href="../automatic/function.html#mth_if"><code class="link">if</code></a> "emacs &amp;" sEditor <a href="../automatic/var.html#mth_="><code class="link">=</code></a>; <a href="../automatic/function.html#mth_end"><code class="link">end</code></a>            <span class="c-cmt"># Set sEditor on Linux            07</span>
"\n   System editor is \"${sEditor}\"." <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>;             <span class="c-cmt"># Which editor?                   08</span>

48 1 3 idCmds <a href="../automatic/data.html#mth_-array"><code class="link">-array</code></a>                                       <span class="c-cmt"># Create and init. command list   10</span>
<a href="../automatic/data.html#mth_{"><code class="link">{</code></a>
  "\"\nHi folks\" -echo"
  "quit"
  "\"${sEditor}\" -system"
};

idCmds 0 rsPick <a href="../automatic/var.html#mth_-rset"><code class="link">-rset</code></a>;                                     <span class="c-cmt"># Assign cmd. list to random set  17</span>
rsPick sCmd <a href="../automatic/var.html#mth_="><code class="link">=</code></a>;                                             <span class="c-cmt"># Randomly pick a command         18</span>
"\n   Picked '" sCmd + "' and now doing it...\n" + <a href="../automatic/function.html#mth_-echo"><code class="link">-echo</code></a>;  <span class="c-cmt"># Say what's gonna happen         19</span>
${sCmd};                                                   <span class="c-cmt"># Make it happen                  20</span>
</pre>
			<p>
				Line 8 demonstrates how to place a variable's value into a string (this
				may, however, result in some quoting problems; a safe method is shown in
				line 19). Line 14 demonstrates how to place variable values into
				constant data initializers and line 20 - well, just check it out!
			</p>
      </div>
    </div>

    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
    <a name="use"></a>
    <div id="clp_use">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap width="25%" class="navbar">
            Some Useful Methods
          </td>
          <td nowrap width="75%" class="navbar" style="text-align:right;">
            <a class="navbar" href="javascript:__PrintSection('clp_use','Some Useful Methods','..');"
            ><img src="../resources/print.gif" width="16" height="16" border="0" style="vertical-align:middle;" alt="Print"></a> 
            <a class="navbar" href="../home.html">Home</a>
            <a class="navbar" href="index.html">Tutorials</a>
            <a class="navbar" href="#top">Top</a>
          </td>
        </tr>
      </table>
      <div class="mframe2">
        <table BORDER=0 CELLSPACING=0 CELLPADDING=4 >
			<tr>
				<th>Method</th><th>Example</th><th>Explanation</th>
			</tr>

			<tr>
			<td><a href="../automatic/function.html#mth_-see"><code class="link">-see</code></a></td>
			<td><code>x </code><a href="../automatic/function.html#mth_-see"><code
				class="link">-see</code></a><code> *;</code></td>
			<td>Shows the values of all fields of instance <code>x</code>.</td>
			</tr>

			<tr>
			<td><a href="../automatic/function.html#mth_-explain"><code class="link">-explain</code></a></td>
			<td><code>x </code><a href="../automatic/function.html#mth_-explain"><code
				class="link">-explain</code></a> <a href="../automatic/data.html#fld_rinc"><code
				class="link">rinc</code></a><code>;</code></td>
			<td>Gives an explanation about a field (<code>x</code> is an instance
				of class <a href="../automatic/data.html"><code class="link">data</code></a>).</td>	
			</tr>

			<tr>
			<td><a href="../automatic/function.html#mth_-set"><code class="link">-set</code></a></td>
			<td><code>0.0625 x </code><a href="../automatic/function.html#mth_-set"><code
				class="link">-set</code></a> <a href="../automatic/data.html#fld_rinc"><code
				class="link">rinc</code></a><code>;</code></td>
			<td>Sets the value of a field (<code>x</code> is an instance
				of class <a href="../automatic/data.html"><code class="link">data</code></a>).</td>	
			</tr>

			<tr>
			<td><a href="../automatic/function.html#mth_-set"><code class="link">-set</code></a>
				<code>check</code></td>
			<td><code>1 x </code><a href="../automatic/function.html#mth_-set"><code
				class="link">-set</code></a><code> check;</code></td>
			<td>Sets the verbose level of instance <code>x</code> to 1 (possible values:
				0 for silence through 255 for maximal vebose level).</td>
			</tr>

			<tr>
			<td><code>-status</code></td>
			<td><code>x -status;</code></td>
			<td>Prints status information about instances of many classes.</td>
			</tr>

			<tr>
			<td><a href="../automatic/function.html#mth__error"><code class="link">?error</code></a></td>
			<td><a href="../automatic/function.html#mth__error"><code class="link">?error</code></a>
				<a href="../automatic/function.html#mth_if"><code class="link">if</code></a><code>
       ... </code><a href="../automatic/function.html#mth_end"><code class="link">end</code></a></td>
			<td>Determines if the most recent method call caused an error.</td>
			</tr>

			<tr>
			<td><a href="../automatic/function.html#mth__instance"><code class="link">?instance</code></a></td>
			<td><code>"x" "data" </code><a href="../automatic/function.html#mth__instance"><code
				class="link">?instance</code></a><code> not </code><a href="../automatic/function.html#mth_if"><code
				class="link">if</code></a><code> ... </code><a href="../automatic/function.html#mth_end"><code
				class="link">end</code></a></td>
			<td>Determines if an instance (identified by its name and class) exists.</td>
			</tr>

			<tr>
			<td><a href="../automatic/function.html#mth__platform"><code class="link">?platform</code></a></td>
			<td><code>"LINUX" </code><a href="../automatic/function.html#mth__platform"><code
				class="link">?platform</code></a> <a href="../automatic/function.html#mth_if"><code
				class="link">if</code></a><code> ... </code><a href="../automatic/function.html#mth_end"><code
				class="link">end</code></a></td>
			<td>Determines if dLabPro runs on a specified platform.</td>
			</tr>

			</table>
      </div>
    </div>

    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
    <a name="further"></a>
    <div id="clp_further">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap width="25%" class="navbar">
            Further Reading
          </td>
          <td nowrap width="75%" class="navbar" style="text-align:right;">
            <a class="navbar" href="javascript:__PrintSection('clp_further','Further Reading','..');"
            ><img src="../resources/print.gif" width="16" height="16" border="0" style="vertical-align:middle;" alt="Print"></a> 
            <a class="navbar" href="../home.html">Home</a>
            <a class="navbar" href="index.html">Tutorials</a>
            <a class="navbar" href="#top">Top</a>
          </td>
        </tr>
      </table>
      <div class="mframe2">
        <ul class="linklist">
          <li class="linklist"><a href="../automatic/function.html"><img
          src="../resources/class_obj.gif" width="16" height="16" border="0"
          style="vertical-align:middle" alt="icon">&nbsp;Class function</a></li>
        </ul>
      </div>
    </div>
  
  </div>
  <div class="footer">End of page</div>

</body>
</html>